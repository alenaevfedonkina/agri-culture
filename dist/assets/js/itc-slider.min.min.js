class ItcSlider{static#a="wrapper";static#b="items";static#c="item";static#d="item_active";static#e="indicator";static#f="indicator_active";static#g="btn_prev";static#h="btn_next";static#i="btn_hide";static#j="transition-none";static#k=[];#l;#m;constructor(t,s={},i="itc-slider__"){this.#m={prefix:i,el:t,elWrapper:t.querySelector("."+i+this.constructor.#a),elItems:t.querySelector("."+i+this.constructor.#b),elListItem:t.querySelectorAll("."+i+this.constructor.#c),btnPrev:t.querySelector("."+i+this.constructor.#g),btnNext:t.querySelector("."+i+this.constructor.#h),btnClassHide:i+this.constructor.#i,exOrderMin:0,exOrderMax:0,exItemMin:null,exItemMax:null,exTranslateMin:0,exTranslateMax:0,direction:"next",intervalId:null,isSwiping:!1,swipeX:0},this.#l={loop:!0,autoplay:!1,interval:5e3,refresh:!0,swipe:!0,...s},this.#n(),this.#o()}static getInstance(s){var t=this.#k.find(t=>t.target===s);return t?t.instance:null}static getOrCreateInstance(t,s={},i){try{var e,h="string"==typeof t?document.querySelector(t):t,r=this.getInstance(h);return r?r:(e=new this(h,s,i),this.#k.push({target:h,instance:e}),this)}catch(t){console.error(t)}}static createInstances(){document.querySelectorAll('[data-slider="itc-slider"]').forEach(t=>{if(!this.getInstance(t)){let i=t.dataset,e={};Object.keys(i).forEach(t=>{var s;"slider"!==t&&(s=i[t],s=Number.isNaN(Number(s="false"!==(s="true"===s||s)&&s))?Number(s):s,e[t]=s)}),this.getOrCreateInstance(t,e)}})}next(){this.#m.direction="next",this.#p()}prev(){this.#m.direction="prev",this.#p()}moveTo(t){this.#q(t)}reset(){this.#r()}dispose(){this.#s();let t=this.#m.prefix+this.constructor.#j,s=this.#m.prefix+this.constructor.#d,i=(this.#t("stop"),this.#m.elItems.classList.add(t),this.#m.elItems.style.transform="",this.#m.elListItem.forEach(t=>{t.style.transform="",t.classList.remove(s)}),""+this.#m.prefix+this.constructor.#f);document.querySelectorAll("."+i).forEach(t=>{t.classList.remove(i)}),this.#m.elItems.offsetHeight,this.#m.elItems.classList.remove(t);var e=this.constructor.#k.findIndex(t=>t.target===this.#m.el);this.constructor.#k.splice(e,1)}#u(t){var s=this.#m.prefix+this.constructor.#g,i=this.#m.prefix+this.constructor.#h;this.#t("stop"),t.target.closest("."+s)||t.target.closest("."+i)?(this.#m.direction=t.target.closest("."+s)?"prev":"next",this.#p()):t.target.dataset.slideTo&&(i=parseInt(t.target.dataset.slideTo,10),this.#q(i)),this.#l.loop&&this.#t()}#v(){this.#t("stop")}#w(){this.#t()}#x(){window.requestAnimationFrame(this.#r.bind(this))}#y(t){this.#t("stop");t=0===t.type.search("touch")?t.touches[0]:t;this.#m.swipeX=t.clientX,this.#m.isSwiping=!0}#z(t){this.#m.isSwiping&&(t=0===t.type.search("touch")?t.changedTouches[0]:t,50<(t=this.#m.swipeX-t.clientX)?(this.#m.direction="next",this.#p()):t<-50&&(this.#m.direction="prev",this.#p()),this.#m.isSwiping=!1,this.#l.loop)&&this.#t()}#A(){this.#m.isBalancing||(this.#m.isBalancing=!0,window.requestAnimationFrame(this.#B.bind(this)))}#C(){this.#m.isBalancing=!1}#D(t){t.preventDefault()}#E(){"hidden"===document.visibilityState?this.#t("stop"):"visible"===document.visibilityState&&this.#l.loop&&this.#t()}#o(){this.#m.events={click:[this.#m.el,this.#u.bind(this),!0],mouseenter:[this.#m.el,this.#v.bind(this),!0],mouseleave:[this.#m.el,this.#w.bind(this),!0],resize:[window,this.#x.bind(this),this.#l.refresh],"itc-slider__transition-start":[this.#m.elItems,this.#A.bind(this),this.#l.loop],transitionend:[this.#m.elItems,this.#C.bind(this),this.#l.loop],touchstart:[this.#m.el,this.#y.bind(this),this.#l.swipe],mousedown:[this.#m.el,this.#y.bind(this),this.#l.swipe],touchend:[document,this.#z.bind(this),this.#l.swipe],mouseup:[document,this.#z.bind(this),this.#l.swipe],dragstart:[this.#m.el,this.#D.bind(this),!0],visibilitychange:[document,this.#E.bind(this),!0]},Object.keys(this.#m.events).forEach(t=>{var s,i;this.#m.events[t][2]&&(s=this.#m.events[t][0],i=this.#m.events[t][1],s.addEventListener(t,i))})}#s(){Object.keys(this.#m.events).forEach(t=>{var s,i;this.#m.events[t][2]&&(s=this.#m.events[t][0],i=this.#m.events[t][1],s.removeEventListener(t,i))})}#t(t){this.#l.autoplay&&("stop"===t?(clearInterval(this.#m.intervalId),this.#m.intervalId=null):null===this.#m.intervalId&&(this.#m.intervalId=setInterval(()=>{this.#m.direction="next",this.#p()},this.#l.interval)))}#B(){var t,s,i,e,h;this.#m.isBalancing&&(s=(t=this.#m.elWrapper.getBoundingClientRect()).width/this.#m.countActiveItems/2,i=this.#m.elListItem.length,"next"===this.#m.direction?this.#m.exItemMin.getBoundingClientRect().right<t.left-s&&((e=this.#m.els.find(t=>t.el===this.#m.exItemMin)).order=this.#m.exOrderMin+i,h=this.#m.exTranslateMin+i*this.#m.width,e.translate=h,this.#m.exItemMin.style.transform=`translate3D(${h}px, 0px, 0.1px)`,this.#F()):this.#m.exItemMax.getBoundingClientRect().left>t.right+s&&((e=this.#m.els.find(t=>t.el===this.#m.exItemMax)).order=this.#m.exOrderMax-i,h=this.#m.exTranslateMax-i*this.#m.width,e.translate=h,this.#m.exItemMax.style.transform=`translate3D(${h}px, 0px, 0.1px)`,this.#F()),window.requestAnimationFrame(this.#B.bind(this)))}#G(){let e=this.#m.prefix+this.constructor.#d;this.#m.activeItems.forEach((t,s)=>{t?this.#m.elListItem[s].classList.add(e):this.#m.elListItem[s].classList.remove(e);var i=this.#m.el.querySelectorAll("."+this.#m.prefix+this.constructor.#e);i.length&&t?i[s].classList.add(""+this.#m.prefix+this.constructor.#f):i.length&&!t&&i[s].classList.remove(""+this.#m.prefix+this.constructor.#f)})}#p(){var t="next"===this.#m.direction?-this.#m.width:this.#m.width,t=this.#m.translate+t;if(!this.#l.loop){var s=this.#m.width*(this.#m.elListItem.length-this.#m.countActiveItems);if(t<-s||0<t)return;this.#m.btnPrev&&(this.#m.btnPrev.classList.remove(this.#m.btnClassHide),this.#m.btnNext.classList.remove(this.#m.btnClassHide)),this.#m.btnPrev&&t===-s?this.#m.btnNext.classList.add(this.#m.btnClassHide):this.#m.btnPrev&&0===t&&this.#m.btnPrev.classList.add(this.#m.btnClassHide)}"next"===this.#m.direction?this.#m.activeItems=[...this.#m.activeItems.slice(-1),...this.#m.activeItems.slice(0,-1)]:this.#m.activeItems=[...this.#m.activeItems.slice(1),...this.#m.activeItems.slice(0,1)],this.#G(),this.#m.translate=t,this.#m.elItems.style.transform=`translate3D(${t}px, 0px, 0.1px)`,this.#m.elItems.dispatchEvent(new CustomEvent("itc-slider__transition-start",{bubbles:!0}))}#q(e){var s=this.#m.activeItems.reduce((t,s,i)=>{s=s?e-i:t;return Math.abs(s)<Math.abs(t)?s:t},this.#m.activeItems.length);if(0!==s){this.#m.direction=0<s?"next":"prev";for(let t=0;t<Math.abs(s);t++)this.#p()}}#n(){this.#m.els=[],this.#m.translate=0,this.#m.activeItems=[],this.#m.isBalancing=!1,this.#m.width=this.#m.elListItem[0].getBoundingClientRect().width;var t,s=this.#m.elWrapper.getBoundingClientRect().width;this.#m.countActiveItems=Math.round(s/this.#m.width),this.#m.elListItem.forEach((t,s)=>{t.style.transform="",this.#m.activeItems.push(s<this.#m.countActiveItems?1:0),this.#m.els.push({el:t,index:s,order:s,translate:0})}),this.#l.loop?(t=-(1+(s=this.#m.elListItem.length-1))*this.#m.width,this.#m.elListItem[s].style.transform=`translate3D(${t}px, 0px, 0.1px)`,this.#m.els[s].order=-1,this.#m.els[s].translate=t,this.#F()):this.#m.btnPrev&&this.#m.btnPrev.classList.add(this.#m.btnClassHide),this.#G(),this.#t()}#r(){let t=this.#m.prefix+this.constructor.#j,s=this.#m.elListItem[0].getBoundingClientRect().width,i=this.#m.elWrapper.getBoundingClientRect().width;s===this.#m.width&&Math.round(i/s)===this.#m.countActiveItems||(this.#t("stop"),this.#m.elItems.classList.add(t),this.#m.elItems.style.transform="translate3D(0px, 0px, 0.1px)",this.#n(),window.requestAnimationFrame(()=>{this.#m.elItems.classList.remove(t)}))}#F(){var t=this.#m.els.map(t=>t.el),s=this.#m.els.map(t=>t.order),i=(this.#m.exOrderMin=Math.min(...s),this.#m.exOrderMax=Math.max(...s),s.indexOf(this.#m.exOrderMin)),s=s.indexOf(this.#m.exOrderMax);this.#m.exItemMin=t[i],this.#m.exItemMax=t[s],this.#m.exTranslateMin=this.#m.els[i].translate,this.#m.exTranslateMax=this.#m.els[s].translate}}document.addEventListener("DOMContentLoaded",()=>{ItcSlider.createInstances()});